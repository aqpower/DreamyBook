---
creation date: 2023-11-07 20:04 
---
#🌱发芽


Unikernel OS (libOS)
模块化 modular

传统的：应用和kernel有界限

Unikernel：只有内核态，应用也在内核态，OS 以库的形式存在。

 - 单一应用，内核包着应用，提高效率！
 - 单一的地址空间
 - 单一的特权级

组件化  -acreos 的核心思想

Building Block，说到组件，预构建，可以复用，不同阶段表现出不同的形式。组件≈Crate

组件化 OS - 一切皆组件

Linux kernel ，构建出来就是一个内核

acreos kernel 就是一个工程，建立一个工厂，工厂化构造 OS。也支持传统的操作系统功能，向下管理硬件，向上为应用提供服务支撑应用。


开发一个组件化的 OS？

- 构造一个单一的**裸机程序**
- 层次化，通过接口传递消息，方便移植
- 对每个层次进行组件化（模块化）

## 自底向上

引导过程 axruntime
- 建立栈
- 准备页表
- 初始化全局内存分配器
- 重新映射 kernel 的各个段
- 初始化平台 platform
- 启用多任务。thread 调度。这里没有多线程。
- 初始化中断
- 调用 main 函数


- 做一个自己的内核，可以支持实际 Linux 应用
- 一起做一系列开源内核模块



