---
creation date: 2023-10-11 16:21 
---
 [[2023-10-11-星期三]]  #🌱发芽

## 所有权

函数获取参数的三种方式：不可变借用，可变借用和获取所有权。
### 所有权转移

`into` 方法是 Rust 中的一个通用方法，用于执行类型转换或所有权转移。具体来说，它允许将一个类型转换为另一个类型，通常涉及到将某个类型的值的所有权转移给另一个类型。

`into` 方法的功能如下：

1. **类型转换**：它用于将一个类型转换为另一个类型。这是 Rust 中的一种通用转换方式，通常用于从一种类型的值创建另一种类型的值。

2. **所有权转移**：在某些情况下，`into` 方法可以用于将一个类型的所有权转移到另一个类型。这意味着原始值将不再可用，它的所有权已经转移到新的类型。

3. **自定义类型转换**：您可以为您自定义的类型实现 `Into` trait 来定义如何将它转换为其他类型。这允许您自定义类型与标准库类型之间的协作。

在 Rust 中，很多标准库类型都实现了 `Into` trait，以便进行类型转换。例如，`String` 类型实现了 `Into<String>`，允许将字符串切片（`&str`）转换为 `String`，如下所示：

```rust
let str_slice: &str = "Hello, world!";
let string: String = str_slice.into();
```

在这个示例中，`into` 方法被用于将字符串切片 `str_slice` 转换为 `String` 类型，同时将字符串的所有权转移到了 `string` 变量。

总之，`into` 方法是 Rust 中用于类型转换和可能的所有权转移的通用机制，可用于实现灵活的类型之间的转换。

## 基本数据类型

## 复杂数据类型（存储在堆区的数据）

我们希望借用结构体而不是获取它的所有权，这样 `main` 函数就可以保持 `rect1` 的所有权并继续使用它，所以这就是为什么在函数签名和调用的地方会有 `&`。

**字符串 slice**（_string slice_）是 `String` 中一部分值的引用
**字符串 String** 是一种集合类型的数据结构。是连续的字符集合。
## 自定义数据类型—结构体

### 结构体定义
why 结构体，把一组有关系的数据绑定在一起，程序的语义更加清晰。
### 结构体方法
使用


## 枚举
结构体给予你将字段和数据聚合在一起的方法，像 `Rectangle` 结构体有 `width` 和 `height` 两个字段。而枚举给予你**将一个值成为一个集合之一**的方法。

### 将枚举成员和值相关联
```rust
fn main() {
    enum IpAddr {
        V4(String),
        V6(String),
    }

    let home = IpAddr::V4(String::from("127.0.0.1"));

    let loopback = IpAddr::V6(String::from("::1"));
}
```
而且每个枚举成员可以处理不同类型和数量的数据。
可以通过 match 把对应的值取出来。
### Option 枚举


## 报错

`Result` 值之后的 `?` 被定义为与示例 9-6 中定义的处理 `Result` 值的 `match` 表达式有着完全相同的工作方式。如果 `Result` 的值是 `Ok`，这个表达式将会返回 `Ok` 中的值而程序将继续执行。如果值是 `Err`，`Err` 中的值将作为整个函数的返回值，就好像使用了 `return` 关键字一样，这样错误值就被传播给了调用者。
可以在返回 `Result` 的函数中对 `Result` 使用 `?` 运算符，可以在返回 `Option` 的函数中对 `Option` 使用 `?` 运算符

## 泛型

可以接受任意类型的参数。

### trait

_trait_ 定义了某个特定类型拥有可能与其他类型共享的功能。可以通过 trait 以一种抽象的方式定义共享的行为。可以使用 _trait bounds_ 指定泛型是任何拥有特定行为的类型。
一个类型的行为由其可供调用的方法构成。如果可以对不同类型调用相同的方法的话，这些类型就可以共享相同的行为了。trait 定义是一种将方法签名组合起来的方法，目的是定义一个实现某些目的所必需的行为的集合。

说人话就是有很多类型需要调用一个相同的方法，类型内部当然要自己实现，但是要统一接口，就把这些相同方法组合起来方便管理。
- 定义 trait
- 为类型实现 trait
- trait 还可以作为参数，可以接受实现了相同方法的多种类型。
- trait bound 就是指实现了哪些方法的类型。


## 生命周期


每一个引用都有一个生命周期, 出现引用的地方都要格外注意生命周期，甚至需要手动标注。

### 函数式编程




